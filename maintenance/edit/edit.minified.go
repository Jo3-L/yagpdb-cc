{{$j:=sdict
"title" "`-edit [channel] <msg> <new-content>`"
"color" 14232643
"description" "Please provide a valid message (which was sent by YAGPDB).\n\nIf the message is an embed, you can use the syntax from the `-se` command to edit it: `-edit [channel] <msg> -title \"Hello world\" -desc \"Foobar\"`."}}{{$p:=""}}{{$q:=sdict "-title" "Title" "-desc" "Description" "-url" "URL" "-image" "Image" "-thumbnail" "Thumbnail" "-author" "Author" "-authoricon" "Author" "-authorurl" "Author" "-footer" "Footer" "-footericon" "Footer" "-color" "Color" "-content" "Content" "-force" "Force" "-clrembed"  "Clear"}}{{$i:=sdict "-image" "URL" "-thumbnail" "URL" "-author" "Name" "-authoricon" "IconURL" "-authorurl" "URL" "-footer" "Text" "-footericon" "IconURL"}}{{$k:=.Channel}}{{$c:=cslice 1048576 65536 4096 256 16 1}}{{$l:=sdict "A" 10 "B" 11 "C" 12 "D" 13 "E" 14 "F" 15}}{{$w:=cslice}}{{$F:=""}}{{if .CmdArgs}}{{$g:=""}}{{with reFindAllSubmatches `<#(\d+)>` (index .CmdArgs 0)}}{{$g =index . 0 1}}{{end}}{{$x:=getChannel (or $g (index .CmdArgs 0))}}{{if $x}}{{if lt (len .CmdArgs) 3}}{{$p ="Insufficient number of Args"}}{{else}}{{$k =$x}}{{$F =toInt64  (index .CmdArgs 1)}}{{$w =slice .CmdArgs 2}}{{end}}{{else if (ge (len .CmdArgs) 2)}}{{$F =toInt64 (index .CmdArgs 0)}}{{$w =slice .CmdArgs 1}}{{else}}{{$p ="Insufficient number of Args"}}{{end}}{{end}}{{$m:=""}}{{$r:=sdict}}{{$n:=sdict}}{{$a:=false}}{{$s:=false}}{{if not $p}}{{$A:=getMessage $k.ID $F}}{{with $A}}{{if eq .Author.ID 204255221017214977}}{{$m =.Content}}{{if .Embeds}}{{$r =structToSdict (index .Embeds 0)}}{{range $k, $G:=$r}}{{if eq (kindOf $G true) "struct"}}{{$r.Set $k (structToSdict $G)}}{{end}}{{end}}{{$a =true}}{{end}}{{else}}{{$p ="<@204255221017214977> is not Author"}}{{end}}{{else}}{{$p ="Unknown Message"}}{{end}}{{end}}{{if not $p}}{{$h:=2}}{{$d:=""}}{{$b:=""}}{{$y:=0}}{{range $w}}{{if and (not $p) (gt $h 1)}}{{if ($H:=$q.Get (lower .))}}{{if eq $H "Force"}}{{$r =sdict}}{{range $k,$G:=$n}}{{$r.Set $k $G}}{{end}}{{$n =sdict}}{{$h =1}}{{$d =""}}{{$y =1}}{{else if eq $H "Clear"}}{{$r =$.nil}}{{$h =1}}{{$s =true}}{{$d =""}}{{$y =1}}{{else if and $s (ne $H "Content")}}{{$p =print "Parsing Error: Invalid flag: " . ". Attempting to Both Clear and Edit Embed"}}{{else}}{{$d =$H}}{{$h =0}}{{$b =$i.Get (lower .)}}{{end}}{{end}}{{end}}{{if and (not $p) $h (not $y)}}{{if $d}}{{if in (cslice "Description" "Title" "URL") $d}}{{if eq $h 1}}{{$r.Set $d ""}}{{$n.Set $d ""}}{{end}}{{$r.Set $d (joinStr " " ($r.Get $d) .)}}{{$n.Set $d (joinStr " " ($n.Get $d) .)}}{{$a =true}}{{else if eq $d "Color"}}{{if eq $h 1}}{{$t:=`\A(?:#?([a-fA-F\d]{1,6}))\z`}}{{with reFindAllSubmatches $t .}}{{$B:=printf "%06s" (index . 0 1) | upper}}{{$C:=0}}{{range $k, $G:=split $B ""}}{{$e:=index $c $k}}{{$D:=or ($l.Get $G) $G}}{{$C =add $C (mult $D $e)}}{{end}}{{$r.Set $d $C}}{{$n.Set $d $C}}{{else}}{{$p ="Parsing Error: color was not in correct format (use hex)"}}{{end}}{{else}}{{$p ="Parse Error: too many arguments to Color"}}{{end}}{{$a =true}}{{else if eq $d "Content"}}{{if eq $h 1}}{{$m =""}}{{end}}{{$m =joinStr " " $m .}}{{else}}{{if eq $h 1}}{{$E:=or ($r.Get $d) sdict}}{{$z:=or ($n.Get $d) sdict}}{{$E.Set $b ""}}{{$z.Set $b ""}}{{$r.Set $d $E}}{{$n.Set $d $z}}{{$a =true}}{{end}}{{$u:=$r.Get $d}}{{$o:=$n.Get $d}}{{$u.Set $b (joinStr " " ($u.Get $b) .)}}{{$o.Set $b (joinStr " " ($o.Get $b) .)}}{{end}}{{else}}{{$p =(print "Parsing Error:  Invalid flag: " . )}}{{end}}{{end}}{{$h =add $h 1}}{{$y =0}}{{end}}{{if $r}}{{if $r.Author}}{{$r.Author.Set "Icon_URL" $r.Author.IconURL}}{{end}}{{if $r.Footer}}{{$r.Footer.Set "Icon_URL" $r.Footer.IconURL}}{{end}}{{end}}{{if (not $a)}}{{$r =$.nil}}{{end}}{{if not $p}}{{if or $m (ne (print $r) "<nil>")}}{{editMessage $k.ID $F (complexMessageEdit "content" $m "embed" $r)}} 
Done :+1:
{{else}}{{$p ="Content and embed cannot be null at the same time."}}{{end}}{{end}}{{end}}{{if $p}}{{$j.Set "description" (print "**Error** - `" $p  "`\n" ($j.Get "description"))}}{{sendMessage nil (cembed $j)}}{{end}}{{deleteResponse 5}}
